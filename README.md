# ♟ Java Chess Mini Engine

## Описание проекта

Это учебный проект на Java, реализующий базовую логику шахмат. Программа позволяет:

- перемещать фигуры по шахматной доске,
- корректно обрабатывать ходы по правилам игры,
- определять шах и мат,
- выполнять рокировку,
- запрещать недопустимые ходы, в том числе ведущие к шаху.

Игра управляется через консоль, вводом текстовых команд.
Пример взаимодействия в консоли:


Player 1 (White)
> move 1 4 3 4
Успешно передвинулись
Turn Black

Player 2 (Black)
> move 6 3 4 3
Успешно передвинулись
Turn White

---

## Как запустить

1. Открой проект в любой IDE (например, IntelliJ IDEA).
2. Запусти метод `main()` из класса `Main`.
3. Следуй инструкциям в консоли — вводи команды:
   - `move 1 1 2 3` — перемещение фигуры
   - `castling0` / `castling7` — рокировка
   - `replay` — начать новую игру
   - `exit` — выход из игры

---

## Основные классы и их ответственность

### `ChessBoard`
- Хранит доску `ChessPiece[][] board`.
- Управляет ходами (`moveToPosition()`).
- Отвечает за:
  - проверку валидности хода,
  - определение шаха (`isKingUnderAttack()`),
  - определение мата (`isCheckmate()`),
  - выполнение рокировки (`castling0()`, `castling7()`).

### `ChessPiece`
- Абстрактный класс, от которого наследуются все фигуры.
- Содержит цвет (`color`) и флаг `check` — двигалась ли фигура.

### Реализации фигур:

#### `King`
- Метод `canMoveToPosition()` — проверяет ход короля (1 клетка в любом направлении).
- Метод `isUnderAttack()` — определяет, находится ли поле под атакой.

#### `Queen`
- Комбинирует поведение ладьи и слона.
- Может ходить по диагонали, горизонтали и вертикали.

#### `Rook`
- Ходит по прямой — вертикали или горизонтали.
- Учитывает препятствия на пути.

#### `Bishop`
- Ходит по диагонали.
- Не может прыгать через другие фигуры.

#### `Horse` (конь)
- Ходит буквой "Г": 2 клетки в одном направлении и 1 в другом.

#### `Pawn`
- Ходит вперёд на 1 клетку (или на 2 — с начальной позиции).
- Может бить по диагонали.

---

Особенности

- Проверка шаха реализована через имитацию хода и откат (временная подстановка фигуры).
- После каждого успешного хода происходит проверка на **шах** и **мат**.
- Игра не позволяет сделать ход, если он приводит к шаху собственному королю.
- Рокировка возможна только при соблюдении всех правил:
  - между фигур нет других фигур,
  - король и ладья не двигались (`check == true`),
  - король не под шахом и не проходит через атакованные клетки.
